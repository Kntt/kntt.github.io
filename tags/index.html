


    




<!DOCTYPE HTML>

<html>
    <head>
        
            <title>Tags - Kntt&#39;s Blog</title>
        

        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        


        
        
            
                <meta name="description" content="HTML5 HTML, CSS CSS3,JavaScript, AngularJs VueJs JQuery, ES5 ES6, Node, 前端">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tags"/>
<meta name="twitter:description" content="HTML5 HTML, CSS CSS3,JavaScript, AngularJs VueJs JQuery, ES5 ES6, Node, 前端"/>

        <meta property="og:title" content="Tags" />
<meta property="og:description" content="HTML5 HTML, CSS CSS3,JavaScript, AngularJs VueJs JQuery, ES5 ES6, Node, 前端" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://liuys.me/tags/" />

        <meta itemprop="name" content="Tags">
<meta itemprop="description" content="HTML5 HTML, CSS CSS3,JavaScript, AngularJs VueJs JQuery, ES5 ES6, Node, 前端">

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
<header id="header">
    
        <h2><a href="/">Kntt&#39;s blog</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                        
                            <i class="fa fa-home">&nbsp;</i>首页
                    </a>
                </li>
            
                <li>
                    <a href="/blog">
                        
                            <i class="fa fa-edit">&nbsp;</i>博客
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        
                            <i class="fa fa-th">&nbsp;</i>分类
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        
                            <i class="fa fa-user">&nbsp;</i>关于我
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//baidu.com/baidu">
                    <input type="text" name="word" placeholder="请输入关键字" />
                    <input type="hidden" name="si" value="liuys.me">
                    <input name="tn" type="hidden" value="bds">
                    <input name="cl" type="hidden" value="3">
                    <input name="ct" type="hidden" value="2097152">
                    <input name="ie" type="hidden" value="utf-8">
                    <input name="s" type="hidden" value="on">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//baidu.com/baidu">
                <input type="text" name="word" placeholder="请输入关键字" />
                <input type="hidden" name="si" value="liuys.me">
                <input name="tn" type="hidden" value="bds">
                <input name="cl" type="hidden" value="3">
                <input name="ct" type="hidden" value="2097152">
                <input name="ie" type="hidden" value="utf-8">
                <input name="s" type="hidden" value="on">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                
                                    <i class="fa fa-home">&nbsp;</i>
                                
                                首页
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog">
                            <h3>
                                
                                    <i class="fa fa-edit">&nbsp;</i>
                                
                                博客
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                    <i class="fa fa-th">&nbsp;</i>
                                
                                分类
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                    <i class="fa fa-user">&nbsp;</i>
                                
                                关于我
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>最新发表</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="http://liuys.me/blog/vue-webview-bridge/"><p>一个Bug的修复，促使我写了一个package</p></a>
                    </li>
                
                    <li>
                        <a href="http://liuys.me/blog/flutter-dart-4/"><p>[Flutter-前端视角]学习总结</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        
        
            
        

        
            <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://liuys.me/blog/vue-webview-bridge/">一个Bug的修复，促使我写了一个package</a></h2>
        
        
            <p>一个Bug的修复的经历，促使我写了一个package</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2019-02-17'>
            February 17, 2019</time>
        <span class="author">Kntt</span>
        
            <p>2 minute read</p>
        
        
    </div>
</header>

    
    

    
        
        




    
    
        
    


        

        <a href="http://liuys.me/blog/vue-webview-bridge/" class="image featured">
            <img src="/img/2019/02/2019-02-17.jpg" alt="" />
        </a>
    


    <p class="summary">项目地址：vue-webview-js-bridge 主要功能：基于WebViewJavascriptBridge开发的 webview-js-bridge 的 vue 插件，后面废话较多，可以直接看项目。如果刚好闲来无事，权当打发时间
故事背景 本人前端，在一个移动办公 APP 团队。由于业务简单，并没有使用 RN，WEEX 等技术。简单的使用 native 做了一个壳，主要逻辑都是前端控制。主技术栈是 Vue.
bug 出现 在一段时间内，团队接到多人反馈，APP 每天都需要重新登陆。作为团队的前端我很诧异，因为登陆大 token 在前端保存，有效期是三天，怎么可能会每天都要登陆呢？
排查原因 token 有效期三天这个肯定没有问题 团队成员手机都没出过问题，证明逻辑没问题 收集问题反馈人手机信息，发现所有反馈人员的手机有一个共同点，储存空间都不足（ios），问题也主要集中在苹果手机 定位问题原因，可能是因为手机储存空间不足，把储存的 token 清理了。按着这个思路开始排查… 难道是手机内存空间不足，把储存的 token 当作没用的信息清理了？（token 存在 localstorage 里面）。 通过 google 发现，ios 确实存在这种情况，当手机储存空间不足时候会把系统认为无用的信息清理掉，给主要程序提供运行环境。
问题复现 找到一台储存空间不足的苹果测试机，登陆到 APP 后，找一部非常大的电影下载。这时候系统就会清理空间来满足下载电影的需求。结果发现 APP 需要重新登陆了。问题复现，原因确认。
解决问题 一个小 APP，仅仅为了储存 token 而引入 sqlite 之类的本地数据库，很有些大材小用。但是 localstorage，cookie 等能储存的地方又都在系统清理的范围内。最后决定把 token 储存在 native 端。
解决方案 native 开发类似 localstorage 的功能 token 存入 native 端 前端启动时查询 native 端是否存在 token，存在就同步到 localstorage，不存在，跳转登陆页面。 其他逻辑不变 方案确定，一个字，撸起袖子一顿猛干。。。</p>

    <footer>
        <ul class="actions">
            <li><a href="http://liuys.me/blog/vue-webview-bridge/" class="button big">阅读全文</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Category
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/webview'>webview</a></li>
    
</ul>

    </footer>
</article>

        
            <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://liuys.me/blog/flutter-dart-4/">[Flutter-前端视角]学习总结</a></h2>
        
        
            <p>学习flutter过程的一些个人简介，包括前三篇笔记，能容不多，仅是个人觉得需要注意的地方，后续还会继续更新，欢迎一起探讨～</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2018-08-28'>
            August 28, 2018</time>
        <span class="author">Kntt</span>
        
            <p>3 minute read</p>
        
        
    </div>
</header>

    
    

    
        
        




    


        

        <a href="http://liuys.me/blog/flutter-dart-4/" class="image featured">
            <img src="/img/2018/08/2018-08-06.png" alt="" />
        </a>
    


    <p class="summary">[Flutter-前端视角]dart 语言学习笔记（1）
[Flutter-前端视角]dart 语言学习笔记（2）
[Flutter-前端视角]dart 语言学习笔记（3）
对应的前端 HTML 标签 HTML 里面的标签在 flutter 里面叫做Widget,但是Widget并不是 html 里面的标签，因为 css 里面的一些属性也处理成相应的Widget了。
也就是说Widget包含标签和 CSS 属性
h1 ～ h6,p,span 文字相关标签 // Text类，可以看作是块级的文字显示 new Text( &quot;Lorem ipsum&quot;, style: new TextStyle( fontSize: 24.0 fontWeight: FontWeight.w900, fontFamily: &quot;Georgia&quot;, ), ) // 行内文字使用TextSpan类 new TextSpan( style: bold24Roboto, children: &lt;TextSpan&gt;[ new TextSpan(text: &quot;Lorem &quot;), new TextSpan( text: &quot;ipsum&quot;, style: new TextStyle( fontWeight: FontWeight.w300, fontStyle: FontStyle.italic, fontSize: 48.0, ), ), ], ) 这两个类都只能处理文字样式，fontsize， fontweight 等。间距等属性要借助其他类去处理</p>

    <footer>
        <ul class="actions">
            <li><a href="http://liuys.me/blog/flutter-dart-4/" class="button big">阅读全文</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/flutter'>flutter</a></li>
    
        <li><a href='/categories/dart'>dart</a></li>
    
</ul>

    </footer>
</article>

        
            <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://liuys.me/blog/flutter-dart-3/">[Flutter-前端视角]dart语言学习笔记（3）</a></h2>
        
        
            <p>学习flutter过程，个人对于dart的见解，以及学习过程的记录，欢迎指正～</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2018-08-20'>
            August 20, 2018</time>
        <span class="author">Kntt</span>
        
            <p>3 minute read</p>
        
        
    </div>
</header>

    
    

    
        
        




    
    
        
    


        

        <a href="http://liuys.me/blog/flutter-dart-3/" class="image featured">
            <img src="/img/2018/08/2018-08-06.png" alt="" />
        </a>
    


    <p class="summary">类和对象 Dart 是一门使用类和单继承的面向对象语言
所有的对象都是类的实例，并且所有的类都是Object的子类
定义 类的定义用class关键字
如果未显式定义构造函数，会默认一个空的构造函数
使用new关键字和构造函数来创建对象
2.构造函数
如果只是简单的参数传递，可以在构造函数的参数前加this关键字定义或者参数后加 : 再赋值
没有函数体的函数可以直接写;来结束函数声明
class Point { num x; num y; num z; // 第一个值传递给this.x，第二个值传递给this.y, 类似js中的解构赋值 Point(this.x, this.y, z) { this.z = z; } // 命名构造函数，格式为Class.name(var param) Point.fromList(var list): x = list[0], y = list[1], z=list[2]; //当然，上面句你也可以简写为：this相当于自身的构造函数 //Point.fromList(var list):this(list[0], list[1], list[2]); String toString() =&gt; 'x:$x y:$y z:$z'; } void main() { var p1 = new Point(1, 2, 3); var p2 = new Point.</p>

    <footer>
        <ul class="actions">
            <li><a href="http://liuys.me/blog/flutter-dart-3/" class="button big">阅读全文</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/flutter'>flutter</a></li>
    
        <li><a href='/categories/dart'>dart</a></li>
    
</ul>

    </footer>
</article>

        

        
<ul class="actions pagination">
    
        <li><a href="#" class="disabled button big previous">上一页</a></li>
    

    
        <li><a href="/tags/page/2/"
                class="button big next">下一页</a></li>
    
</ul>

    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <a href="/" class="logo"><img src="/img/main/logo.jpg" alt="Kntt&#39;s Blog" /></a>
                
            
            
                <header>
                    <h2>I&#39;M KNTT</h2>
                    <p>立志卓越，方正为人</p>
                </header>
            
            <ul class="icons">
                
                    
<li><a href="//github.com/Kntt" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:kntt9968@gmail.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3><i class="fa fa-file-text"></i>最新发表</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://liuys.me/blog/vue-webview-bridge/">一个Bug的修复，促使我写了一个package</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2019-02-17'>
                                    February 17, 2019</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://liuys.me/blog/flutter-dart-4/">[Flutter-前端视角]学习总结</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2018-08-28'>
                                    August 28, 2018</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /blog/
                            
                            class="button">更多内容</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><i class="fa fa-th-list"></i><a href="/categories/">分类</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/dart/">dart</a>
                                <span style="float:right;">4</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/flutter/">flutter</a>
                                <span style="float:right;">4</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/css/">css</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/html/">html</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/webview/">webview</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2><i class="fa fa-mortar-board"></i>关于我</h2>
            <p>一个有理想的，前端er。各种奇思妙想，有很强的自我管理意识...</p>

            <ul class="actions">
                <li><a href="/about/" class="button big">更多...</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                    
<li><a href="//github.com/Kntt" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:kntt9968@gmail.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; Kntt&#39;s Blog. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

